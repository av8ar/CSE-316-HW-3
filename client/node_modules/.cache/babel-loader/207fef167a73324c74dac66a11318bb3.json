{"ast":null,"code":"import jsTPS_Transaction from \"../common/jsTPS.js\";\n/**\n* MoveSong_Transaction\n* \n* This class represents a transaction that works with adding songs. It will be managed by the transaction stack.\n* \n* @author Victor Dai\n*/\n\nexport default class DeleteSong_Transaction extends jsTPS_Transaction {\n  constructor(store, initIndex, title, artist, id) {\n    super();\n    this.store = store;\n    this.index = initIndex; // this.removedSong = removedSong;\n\n    this.title = title;\n    this.artist = artist;\n    this.id = id;\n  }\n\n  doTransaction() {\n    this.app.deleteSong(this.index);\n  }\n\n  undoTransaction() {\n    let song = {\n      title: this.title,\n      artist: this.artist,\n      youTubeId: this.id\n    };\n    let list = this.app.state.currentList;\n    list.songs.splice(this.index, 0, song);\n    this.app.setStateWithUpdatedList(list);\n  }\n\n}","map":{"version":3,"names":["jsTPS_Transaction","DeleteSong_Transaction","constructor","store","initIndex","title","artist","id","index","doTransaction","app","deleteSong","undoTransaction","song","youTubeId","list","state","currentList","songs","splice","setStateWithUpdatedList"],"sources":["/Users/victordai/Desktop/CSE 316 HW3/Playlister_HW3/client/src/transactions/DeleteSongTransaction.js"],"sourcesContent":["import jsTPS_Transaction from \"../common/jsTPS.js\"/**\n * MoveSong_Transaction\n * \n * This class represents a transaction that works with adding songs. It will be managed by the transaction stack.\n * \n * @author Victor Dai\n */\nexport default class DeleteSong_Transaction extends jsTPS_Transaction {\n    constructor(store, initIndex, title, artist, id) {\n        super();\n        this.store = store;\n        this.index = initIndex;\n        // this.removedSong = removedSong;\n        this.title = title;\n        this.artist = artist;\n        this.id = id;\n    }\n\n    doTransaction() {\n        this.app.deleteSong(this.index);\n    }\n    \n    undoTransaction() {\n\n        let song = {\n            title: this.title,\n            artist: this.artist,\n            youTubeId: this.id\n        };\n        let list = this.app.state.currentList;\n        list.songs.splice(this.index, 0, song);\n        this.app.setStateWithUpdatedList(list);\n    }\n}"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,oBAA9B;AAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,sBAAN,SAAqCD,iBAArC,CAAuD;EAClEE,WAAW,CAACC,KAAD,EAAQC,SAAR,EAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,EAAlC,EAAsC;IAC7C;IACA,KAAKJ,KAAL,GAAaA,KAAb;IACA,KAAKK,KAAL,GAAaJ,SAAb,CAH6C,CAI7C;;IACA,KAAKC,KAAL,GAAaA,KAAb;IACA,KAAKC,MAAL,GAAcA,MAAd;IACA,KAAKC,EAAL,GAAUA,EAAV;EACH;;EAEDE,aAAa,GAAG;IACZ,KAAKC,GAAL,CAASC,UAAT,CAAoB,KAAKH,KAAzB;EACH;;EAEDI,eAAe,GAAG;IAEd,IAAIC,IAAI,GAAG;MACPR,KAAK,EAAE,KAAKA,KADL;MAEPC,MAAM,EAAE,KAAKA,MAFN;MAGPQ,SAAS,EAAE,KAAKP;IAHT,CAAX;IAKA,IAAIQ,IAAI,GAAG,KAAKL,GAAL,CAASM,KAAT,CAAeC,WAA1B;IACAF,IAAI,CAACG,KAAL,CAAWC,MAAX,CAAkB,KAAKX,KAAvB,EAA8B,CAA9B,EAAiCK,IAAjC;IACA,KAAKH,GAAL,CAASU,uBAAT,CAAiCL,IAAjC;EACH;;AAzBiE"},"metadata":{},"sourceType":"module"}