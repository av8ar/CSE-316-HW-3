{"ast":null,"code":"import jsTPS_Transaction from \"../common/jsTPS.js\";\n/**\n * DeleteSong_Transaction\n * \n * This class represents a transaction that works with adding songs. It will be managed by the transaction stack.\n * \n * @author Victor Dai\n */\n\nexport default class DeleteSong_Transaction extends jsTPS_Transaction {\n  constructor(store, initIndex, song) {\n    super();\n    this.store = store;\n    this.index = initIndex;\n    this.song = song; // this.removedSong = removedSong;\n\n    this.title = song.title;\n    this.artist = song.artist;\n    this.id = song.youTubeId;\n  }\n\n  doTransaction() {\n    this.store.deleteSong(this.index);\n  }\n\n  undoTransaction() {\n    let song = {\n      title: this.title,\n      artist: this.artist,\n      youTubeId: this.id\n    };\n    let list = this.store.currentList;\n    list.songs.splice(this.index, 0, song);\n    this.store.updatePlaylist();\n  }\n\n}","map":{"version":3,"names":["jsTPS_Transaction","DeleteSong_Transaction","constructor","store","initIndex","song","index","title","artist","id","youTubeId","doTransaction","deleteSong","undoTransaction","list","currentList","songs","splice","updatePlaylist"],"sources":["/Users/victordai/Desktop/CSE 316 HW3/Playlister_HW3/client/src/transactions/DeleteSongTransaction.js"],"sourcesContent":["import jsTPS_Transaction from \"../common/jsTPS.js\"\n\n/**\n * DeleteSong_Transaction\n * \n * This class represents a transaction that works with adding songs. It will be managed by the transaction stack.\n * \n * @author Victor Dai\n */\nexport default class DeleteSong_Transaction extends jsTPS_Transaction {\n    constructor(store, initIndex, song) {\n        super();\n        this.store = store;\n        this.index = initIndex;\n        this.song = song;\n        // this.removedSong = removedSong;\n        this.title = song.title;\n        this.artist = song.artist;\n        this.id = song.youTubeId;\n    }\n\n    doTransaction() {\n        this.store.deleteSong(this.index);\n    }\n    \n    undoTransaction() {\n\n        let song = {\n            title: this.title,\n            artist: this.artist,\n            youTubeId: this.id\n        };\n        let list = this.store.currentList;\n        list.songs.splice(this.index, 0, song);\n        this.store.updatePlaylist();\n    }\n}"],"mappings":"AAAA,OAAOA,iBAAP,MAA8B,oBAA9B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,MAAMC,sBAAN,SAAqCD,iBAArC,CAAuD;EAClEE,WAAW,CAACC,KAAD,EAAQC,SAAR,EAAmBC,IAAnB,EAAyB;IAChC;IACA,KAAKF,KAAL,GAAaA,KAAb;IACA,KAAKG,KAAL,GAAaF,SAAb;IACA,KAAKC,IAAL,GAAYA,IAAZ,CAJgC,CAKhC;;IACA,KAAKE,KAAL,GAAaF,IAAI,CAACE,KAAlB;IACA,KAAKC,MAAL,GAAcH,IAAI,CAACG,MAAnB;IACA,KAAKC,EAAL,GAAUJ,IAAI,CAACK,SAAf;EACH;;EAEDC,aAAa,GAAG;IACZ,KAAKR,KAAL,CAAWS,UAAX,CAAsB,KAAKN,KAA3B;EACH;;EAEDO,eAAe,GAAG;IAEd,IAAIR,IAAI,GAAG;MACPE,KAAK,EAAE,KAAKA,KADL;MAEPC,MAAM,EAAE,KAAKA,MAFN;MAGPE,SAAS,EAAE,KAAKD;IAHT,CAAX;IAKA,IAAIK,IAAI,GAAG,KAAKX,KAAL,CAAWY,WAAtB;IACAD,IAAI,CAACE,KAAL,CAAWC,MAAX,CAAkB,KAAKX,KAAvB,EAA8B,CAA9B,EAAiCD,IAAjC;IACA,KAAKF,KAAL,CAAWe,cAAX;EACH;;AA1BiE"},"metadata":{},"sourceType":"module"}